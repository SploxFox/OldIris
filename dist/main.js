!function(e){var t={};function s(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=3)}([function(e,t,s){"use strict";function i(e,t=!0){return"resources/"+(t?window.localizer.language+"/":"default/")+e}Object.defineProperty(t,"__esModule",{value:!0}),t.resolvePath=i,t.loadFile=function e(t,s,n=!0){var a=new XMLHttpRequest;a.open("GET",i(t,n),!0),a.onreadystatechange=(()=>{4===a.readyState&&(200==a.status||n&&e.bind(this)(t,s,!1))}).bind(this),a.onload=function(){200==a.status&&s.bind(this)(a)}.bind(this),a.send(null)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2),n=s(10),a=s(0),o=s(11);t.OrganizerTab=class extends i.TabbedElement{constructor(e,t){super("organizer","icons/organizer.svg"),this.present=t,this.presenting=!1,this.story=e,this.bodyElement.classList.add("organizer"),this.evidenceContainerElement=document.createElement("div"),this.evidenceContainerElement.classList.add("evidence-container","pop"),this.bodyElement.appendChild(this.evidenceContainerElement),this.presentButton=new o.PopoutButton("present"),this.presentButton.element.classList.add("pop","tab-popout","tucked","interactable"),this.tabElement.appendChild(this.presentButton.element),this.presentButton.element.addEventListener("interacted",function(){this.present(this.selectedEvidence),this.close(!0)}.bind(this)),this.evidenceElements=[]}get presenting(){return this._presenting}set presenting(e){this._presenting=e,this.presenting?this.bodyElement.classList.add("presenting"):this.bodyElement.classList.remove("presenting")}open(e=!1){console.log(this.evidenceElements.map(e=>e.dataset.evidenceId)),console.log(this.story.evidence.map(e=>e.id)),this.evidenceElements.map(e=>e.dataset.evidenceId)!=this.story.evidence.map(e=>e.id)&&this.updateEvidenceElements(),super.open(),e&&(this.presentButton.element.classList.remove("tucked"),this.presentButton.element.classList.add("disabled"),this.presenting=!0)}close(e){!e&&this.presenting||(super.close(),this.presentButton.element.classList.add("tucked"),this.presenting=!1)}getEvidenceElements(){for(var e=[],t=0;t<this.story.evidence.length;t++){var s=document.createElement("div");s.classList.add("evidence","pop"),s.dataset.evidenceId=this.story.evidence[t].id;var i=document.createElement("img");i.src=this.story.evidence[t].image?a.resolvePath(this.story.evidence[t].image):"https://www.staples-3p.com/s7/is/image/Staples/sp36188286_sc7?wid=512&hei=512",s.appendChild(i);var n=document.createElement("div");n.classList.add("evidence-text"),s.appendChild(n);var o=document.createElement("span");o.textContent=this.story.evidence[t].name,o.classList.add("evidence-name"),n.appendChild(o);var r=document.createElement("span");r.textContent=this.story.evidence[t].description,r.classList.add("evidence-description"),n.appendChild(r),s.classList.add("interactable"),s.addEventListener("interacted",function(e,t){!s.classList.contains("disabled")&&this.presenting&&this.select(t.target)}.bind(this,this.story.evidence[t])),e.push(s)}return e}updateEvidenceElements(){this.evidenceElements=this.getEvidenceElements(),n.replaceElementChildren(this.evidenceContainerElement,this.evidenceElements)}select(e){this.selectedEvidence&&this.selectedEvidence.id==e.dataset.evidenceId?this.notReadyToPresent():(this.readyToPresent(),e.classList.add("selected"),this.selectedEvidence=this.story.evidence.find(t=>t.id==e.dataset.evidenceId))}readyToPresent(){for(var e=0;e<this.evidenceElements.length;e++)this.evidenceElements[e].classList.remove("selected");this.presentButton.element.classList.remove("disabled")}notReadyToPresent(){var e=this.evidenceElements.find(e=>e.classList.contains("selected"));this.selectedEvidence=void 0,this.presentButton.element.classList.add("disabled"),e.classList.remove("selected")}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0);t.TabbedElement=class{constructor(e,t){this.tabName=e,this.labelShown=!1,this.tabElement=document.createElement("div"),this.tabElement.classList.add("tab","pop"),this.tabContentElement=document.createElement("div"),t&&(this.icon=document.createElement("img"),this.icon.src=i.resolvePath(t,!1),this.icon.classList.add("icon"),this.tabContentElement.appendChild(this.icon)),this.tabTextElement=document.createElement("span"),this.tabTextElement.classList.add("tab-label"),this.refreshLabel(),this.tabContentElement.classList.add("tab-content"),this.tabElement.appendChild(this.tabContentElement),this.bodyElement=document.createElement("div"),this.bodyElement.classList.add("tab-body","pop","interactable"),this.tabElement.appendChild(this.bodyElement),this.tabElement.addEventListener("interacted",function(){"opened"==this.state?this.close():this.open()}.bind(this)),this.tabElement.classList.add("interactable"),window.addEventListener("resize",this.refreshLabel.bind(this))}get state(){return this._state}open(){this.tabElement.classList.add("opened"),this._state="opened"}close(){this.tabElement.classList.remove("opened"),this._state="closed"}refreshLabel(){this.icon&&window.innerWidth>500||!this.icon?this.labelShown||this.showLabel():this.labelShown&&this.hideLabel()}showLabel(){this.tabTextElement.textContent=window.localizer.localize(this.tabName),this.tabContentElement.appendChild(this.tabTextElement),this.labelShown=!0}hideLabel(){this.tabTextElement.parentNode.removeChild(this.tabTextElement),this.labelShown=!1}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(4),n=s(2),a=s(12),o=s(1);var r=new i.Iris;window.localizer=new a.Localizer("english",function(){r.localizationLoaded.bind(r)(),r.userInterface.textBox.tabs=[new n.TabbedElement("save","icons/save.svg"),new n.TabbedElement("chat-history","icons/chat.svg"),new o.OrganizerTab(r.storyManager,r.present.bind(r))],r.userInterface.textBox.updateTabs()}),r.loadStory("main-story.json"),document.body.appendChild(r.element),(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|(o|a)d)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent))&&(document.body.classList.add("mobile"),document.body.parentElement.classList.add("mobile"),r.showScrollNotification())},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5),n=s(6),a=s(7),o=s(1);t.Iris=class{constructor(){this.touchStarted=!1,this.finishedLoading=!1,this.interfaceHasLoaded=!1,this.storyHasLoaded=!1;var e=document.createElement("div");e.style.overflow="scroll",e.textContent="Test Div",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;document.documentElement.style.setProperty("--scrollBarWidth",t.toString()+"px"),document.body.removeChild(e),this.visuals=new n.Visuals,this.element=document.createElement("div"),this.element.classList.add("game"),this.guiWrapper=document.createElement("div"),this.guiWrapper.classList.add("interface-wrapper"),this.element.appendChild(this.guiWrapper),window.addEventListener("touchstart",function(e){e.touches[0].target.dispatchEvent(new CustomEvent("interacted",{})),this.attemptToAdvance(),this.touchStarted=!0}.bind(this)),window.addEventListener("click",function(e){this.touchStarted?this.touchStarted=!1:(e.target.dispatchEvent(new CustomEvent("interacted",{})),this.attemptToAdvance(e.target))}.bind(this)),window.addEventListener("mousedown",function(e){this.touchStarted||this.scheduleStorySkip()}.bind(this)),window.addEventListener("mouseup",function(e){this.touchStarted||this.stopSkippingStory()}.bind(this))}attemptToAdvance(e){!this.userInterface.textBox.tabsOpen&&this.storyManager.canAdvance&&(e&&e.classList.contains("interactable")||this.advance())}scheduleStorySkip(){this.storySkipping=window.setTimeout(this.startSkippingStory.bind(this),500)}startSkippingStory(){this.storySkipping=window.setInterval(this.attemptToAdvance.bind(this),100)}stopSkippingStory(){window.clearTimeout(this.storySkipping),window.clearInterval(this.storySkipping)}loadStory(e){this.storyManager=new i.StoryManager(e,this.storyLoaded.bind(this),this.requestEvidence.bind(this),this.requestChoices.bind(this))}requestEvidence(){this.userInterface.textBox.tabs.find(e=>e instanceof o.OrganizerTab).open(!0)}requestChoices(e,t){this.userInterface.createChoices(e,t)}localizationLoaded(e){console.log(this),this.userInterface=new a.UserInterface,this.interfaceHasLoaded=!0,this.guiWrapper.appendChild(this.userInterface.element),this.checkLoadStatus()}storyLoaded(){this.storyHasLoaded=!0,this.checkLoadStatus()}checkLoadStatus(){this.interfaceHasLoaded&&this.storyHasLoaded&&(this.finishedLoading=!0,this.start())}start(){this.storyManager.start(),this.storyManager.cue.speech||this.storyManager.goToNextSpeech(),this.userInterface.textBox.showText(this.storyManager.cue.character,this.storyManager.speech)}advance(){this.userInterface.textBox.isFinished?(this.storyManager.goToNextSpeech(),this.userInterface.textBox.showText(this.storyManager.cue.character,this.storyManager.speech)):this.userInterface.textBox.finish()}showScrollNotification(){var e=document.createElement("div");this.guiWrapper.appendChild(e),e.textContent="Scroll Down",e.classList.add("scroll-noti","pop","text"),e.style.top="10px",window.setTimeout(function(){e.style.top="-100vh"},5e3)}present(e){this.storyManager.present(e),this.userInterface.textBox.showText(this.storyManager.cue.character,this.storyManager.speech)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0);t.StoryManager=class{constructor(e,t,s,n){this.episodePosition=0,this.chapterPosition=0,this.cuePosition=0,this.speechPosition=0,this._evidence=[],i.loadFile.bind(this)("story/main-story.json",this.storyFinishedLoading,!0),this.storyLoadedCallback=t,this.requestEvidence=s,this.requestChoices=n,this.state="story"}storyFinishedLoading(e){this.story=JSON.parse(e.responseText),this.storyLoadedCallback()}start(){this.register()}get canAdvance(){return"story"==this.state||"tangent"==this.state}get speech(){return this.cue.speech[this.speechPosition]}get cue(){if("tangent"==this.state)return this.tangent[this.tangentPosition];var e=this.chapter.content[this.cuePosition];if(null==e)throw"Error: Found cue to be undefined!";return e}get chapter(){return this.episode.chapters[this.chapterPosition]}get episode(){return this.story.episodes[this.episodePosition]}get evidence(){return this._evidence}register(){if(this.cue.evidence&&"new"==this.cue.evidence&&this._evidence.push({name:this.cue.name,id:this.cue.id,description:this.cue.description,image:this.cue.image?this.cue.image:void 0}),this.cue.question)switch(this.state="frozen",this.cue.question.type){case"evidence":this.evidenceIdRequired=this.cue.question.id,this.requestEvidence();break;case"text":this.acceptedResponses=this.cue.question.choices.map((e,t)=>e.correct?t:-1).filter(e=>-1!=e),this.requestChoices(this.cue.question.choices,this.makeChoice.bind(this))}}makeChoice(e){console.log("Made choice "+e)}present(e){return e.id==this.evidenceIdRequired?(this.evidenceIdRequired=void 0,this.advance(),!0):(this.tangent=this.cue.question.wrong,this.evidenceIdRequired=void 0,!1)}advance(){"frozen"!=this.state&&(this.cue.speech&&this.cue.speech.length-1>this.speechPosition?(this.speechPosition++,console.log("Advanced to next speech. New position: "+this.speechPosition)):"tangent"==this.state?this.tangent.length-1>this.tangentPosition?this.tangentPosition++:this.tangent=void 0:this.chapter.content.length-1>this.cuePosition?(this.cuePosition++,this.speechPosition=0,console.log("Advanced to next cue.")):this.episode.chapters.length>this.chapterPosition&&(this.chapterPosition++,this.speechPosition=0,this.cuePosition=0,console.log("Advanced to next chapter.")))}get tangent(){return this._tangent}set tangent(e){this._tangent=e,this.state=null==this.tangent?"story":"tangent",this.speechPosition=0,this.tangentPosition=0}goToNextSpeech(){do{this.advance(),this.register()}while(!this.cue.speech)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Visuals=class{constructor(){this.canvas=document.createElement("canvas"),this.canvas.classList.add("visuals"),this.context=this.canvas.getContext("2d"),this.context.rect(10,10,20,20)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(8),n=s(9);t.UserInterface=class{constructor(){this.textBox=new i.TextBox,this.element=document.createElement("div"),this.element.appendChild(this.textBox.element)}createChoices(e,t){var s=new n.ChoiceSelect(e,t);this.element.appendChild(s.element)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.tabs=[],this.element=document.createElement("div"),this.element.classList.add("text","text-box"),this.speakerElement=document.createElement("span"),this.speakerElement.classList.add("name","pop"),this.textElement=document.createElement("div"),this.textElement.classList.add("text-block"),this.tabsElement=document.createElement("div"),this.tabsElement.classList.add("tabs"),this.updateTabs(),this.element.appendChild(this.speakerElement),this.element.appendChild(this.textElement),this.element.appendChild(this.tabsElement)}updateTabs(){for(;this.tabsElement.firstElementChild;)this.tabsElement.firstElementChild.remove();for(var e=0;e<this.tabs.length;e++)this.tabsElement.appendChild(this.tabs[e].tabElement)}get tabsOpen(){for(var e=0;e<this.tabs.length;e++)if("opened"==this.tabs[e].state)return!0;return!1}clear(){for(;this.textElement.firstElementChild;)this.textElement.firstElementChild.remove();this.speakerElement.textContent="",this.blipNum=0}showText(e,t){this.clear(),this.isFinished=!1,this.speakerElement.textContent=e;var s="fast",n="speech",a=function(e){if("#"!=t[e]||"#"!=t[e+1])return{character:t[e],mode:n,speed:s,index:e,isLastCharacter:e+1>=t.length};try{for(var i="",a=e+2;"("!=t[a]&&t.length>a;a++)i+=t[a];for(var o,r="",c=a+1;")"!=t[c]&&t.length>c;c++)r+=t[c];switch(o=r.split(","),i){case"mode":n=o[0];break;case"speed":s=o[0]}return{index:c}}catch(e){console.log("Unable to parse command!"),console.log(e)}}.bind(this);for(var o=0;o<t.length;o++){var r=a(o);if(i.instanceOfQueuedCharacter(r)){var c=document.createElement("span");c.classList.add("text",n,"hidden"),c.textContent=t[o],c.dataset.index=""+o,this.textElement.appendChild(c)}else o=r.index}(function e(n){var o=function(){if(n<t.length){var s=a(n),o=s.index+1;i.instanceOfQueuedCharacter(s)&&this.addChar(s),e.bind(this)(o)}}.bind(this);this.shouldSpeedUp?o():window.setTimeout(o.bind(this),i.getWaitTime(s))}).bind(this)(0)}static getWaitTime(e){switch(e){case"fast":return 20;case"slow":return 50;case"very-slow":return 200}}static instanceOfQueuedCharacter(e){return void 0!==e.character}addChar(e){document.querySelector("[data-index='"+e.index+"']").classList.remove("hidden");this.blipNum++," "==e.character&&(this.blipNum=0),e.isLastCharacter&&(this.isFinished=!0,this.shouldSpeedUp=!1)}finish(){this.shouldSpeedUp=!0}}t.TextBox=i},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ChoiceSelect=class{constructor(e,t){this.choices=e,this.container=document.createElement("div"),this.container.classList.add("choices-container"),this.element=document.createElement("div"),this.element.classList.add("cover"),window.innerHeight-this.container.offsetHeight<500&&this.element.classList.add("cover");for(var s=0;s<this.choices.length;s++){var i=document.createElement("div");i.classList.add("pop","choice"),window.addEventListener("interacted",function(e){t(e.index)}.bind(this,e[s]));var n=document.createElement("span");n.classList.add("text","choice-text","silent-child"),n.textContent=e[s].text,i.appendChild(n),this.container.appendChild(i)}this.element.appendChild(this.container)}clear(){this.container.parentElement.removeChild(this.container),this.element.parentElement.removeChild(this.element)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceElementChildren=function(e,t){for(;e.firstElementChild;)e.firstElementChild.remove();for(var s=0;s<t.length;s++)e.appendChild(t[s]);return e}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PopoutButton=class{constructor(e){this.text=e,this.element=document.createElement("button"),this.element.textContent=window.localizer.localize(e),this.element.classList.add("popout-button")}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0);t.Localizer=class{constructor(e,t){this.localizationLoadedCallback=t,this._language=e,window.localizer=this,i.loadFile.bind(this)("interface.json",function(e){this.localized=JSON.parse(e.responseText),this.localizationLoadedCallback()}.bind(this))}localize(e){if(this.localized[e])return this.localized[e];var t=e.split("-"),s="";for(var i in t)s+=i=i.charAt(0).toUpperCase()+i.substring(1);return s}get language(){return this._language}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZpbGUtbG9hZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy91c2VyLWludGVyZmFjZS9vcmdhbml6ZXItdGFiLnRzIiwid2VicGFjazovLy8uL3NyYy91c2VyLWludGVyZmFjZS90YWJiZWQtZWxlbWVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2lyaXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0b3J5L3N0b3J5LW1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Zpc3VhbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VzZXItaW50ZXJmYWNlL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy91c2VyLWludGVyZmFjZS90ZXh0LWJveC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXNlci1pbnRlcmZhY2UvY2hvaWNlLXNlbGVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXNlci1pbnRlcmZhY2UvY2xlYXItZWxlbWVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXNlci1pbnRlcmZhY2UvcG9wb3V0LWJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbG9jYWxpemVyLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicmVzb2x2ZVBhdGgiLCJwYXRoIiwibG9jYWxpemVkIiwid2luZG93IiwibG9jYWxpemVyIiwibGFuZ3VhZ2UiLCJsb2FkRmlsZSIsImNhbGxiYWNrIiwicmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJ0aGlzIiwib25sb2FkIiwic2VuZCIsInRhYmJlZF9lbGVtZW50XzEiLCJjbGVhcl9lbGVtZW50XzEiLCJmaWxlX2xvYWRlcl8xIiwicG9wb3V0X2J1dHRvbl8xIiwiT3JnYW5pemVyVGFiIiwiVGFiYmVkRWxlbWVudCIsIltvYmplY3QgT2JqZWN0XSIsInN0b3J5IiwicHJlc2VudCIsInN1cGVyIiwicHJlc2VudGluZyIsImJvZHlFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiZXZpZGVuY2VDb250YWluZXJFbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJwcmVzZW50QnV0dG9uIiwiUG9wb3V0QnV0dG9uIiwiZWxlbWVudCIsInRhYkVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwic2VsZWN0ZWRFdmlkZW5jZSIsImNsb3NlIiwiZXZpZGVuY2VFbGVtZW50cyIsIl9wcmVzZW50aW5nIiwicmVtb3ZlIiwiY29uc29sZSIsImxvZyIsIm1hcCIsImUiLCJkYXRhc2V0IiwiZXZpZGVuY2VJZCIsImV2aWRlbmNlIiwiaWQiLCJ1cGRhdGVFdmlkZW5jZUVsZW1lbnRzIiwiZm9yY2UiLCJlbGVtZW50cyIsImxlbmd0aCIsImV2aWRlbmNlRWxlbWVudCIsImV2aWRlbmNlSW1hZ2UiLCJzcmMiLCJpbWFnZSIsImV2aWRlbmNlVGV4dCIsImV2aWRlbmNlTmFtZSIsInRleHRDb250ZW50IiwiZXZpZGVuY2VEZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwiY29udGFpbnMiLCJzZWxlY3QiLCJ0YXJnZXQiLCJwdXNoIiwiZ2V0RXZpZGVuY2VFbGVtZW50cyIsInJlcGxhY2VFbGVtZW50Q2hpbGRyZW4iLCJub3RSZWFkeVRvUHJlc2VudCIsInJlYWR5VG9QcmVzZW50IiwiZmluZCIsInNlbGVjdGVkRWxlbWVudCIsInVuZGVmaW5lZCIsInRhYk5hbWUiLCJpY29uIiwibGFiZWxTaG93biIsInRhYkNvbnRlbnRFbGVtZW50IiwidGFiVGV4dEVsZW1lbnQiLCJyZWZyZXNoTGFiZWwiLCJzdGF0ZSIsIl9zdGF0ZSIsImlubmVyV2lkdGgiLCJzaG93TGFiZWwiLCJoaWRlTGFiZWwiLCJsb2NhbGl6ZSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImlyaXNfMSIsImxvY2FsaXplcl8xIiwib3JnYW5pemVyX3RhYl8xIiwiZ2FtZSIsIklyaXMiLCJMb2NhbGl6ZXIiLCJsb2NhbGl6YXRpb25Mb2FkZWQiLCJ1c2VySW50ZXJmYWNlIiwidGV4dEJveCIsInRhYnMiLCJzdG9yeU1hbmFnZXIiLCJ1cGRhdGVUYWJzIiwibG9hZFN0b3J5IiwiYm9keSIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJwYXJlbnRFbGVtZW50Iiwic2hvd1Njcm9sbE5vdGlmaWNhdGlvbiIsInN0b3J5X21hbmFnZXJfMSIsInZpc3VhbHNfMSIsInVzZXJfaW50ZXJmYWNlXzEiLCJ0b3VjaFN0YXJ0ZWQiLCJmaW5pc2hlZExvYWRpbmciLCJpbnRlcmZhY2VIYXNMb2FkZWQiLCJzdG9yeUhhc0xvYWRlZCIsInNjcm9sbEJhclRlc3REaXYiLCJzdHlsZSIsIm92ZXJmbG93Iiwic2Nyb2xsV2lkdGgiLCJvZmZzZXRXaWR0aCIsImNsaWVudFdpZHRoIiwiZG9jdW1lbnRFbGVtZW50Iiwic2V0UHJvcGVydHkiLCJ0b1N0cmluZyIsInZpc3VhbHMiLCJWaXN1YWxzIiwiZ3VpV3JhcHBlciIsImV2ZW50IiwidG91Y2hlcyIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImF0dGVtcHRUb0FkdmFuY2UiLCJzY2hlZHVsZVN0b3J5U2tpcCIsInN0b3BTa2lwcGluZ1N0b3J5IiwidGFic09wZW4iLCJjYW5BZHZhbmNlIiwiYWR2YW5jZSIsInN0b3J5U2tpcHBpbmciLCJzZXRUaW1lb3V0Iiwic3RhcnRTa2lwcGluZ1N0b3J5Iiwic2V0SW50ZXJ2YWwiLCJjbGVhclRpbWVvdXQiLCJjbGVhckludGVydmFsIiwiU3RvcnlNYW5hZ2VyIiwic3RvcnlMb2FkZWQiLCJyZXF1ZXN0RXZpZGVuY2UiLCJyZXF1ZXN0Q2hvaWNlcyIsInRhYiIsImNob2ljZXMiLCJtYWtlQ2hvaWNlIiwiY3JlYXRlQ2hvaWNlcyIsInR5cGUiLCJVc2VySW50ZXJmYWNlIiwiY2hlY2tMb2FkU3RhdHVzIiwic3RhcnQiLCJjdWUiLCJzcGVlY2giLCJnb1RvTmV4dFNwZWVjaCIsInNob3dUZXh0IiwiY2hhcmFjdGVyIiwiaXNGaW5pc2hlZCIsImZpbmlzaCIsInNjcm9sbE5vdGkiLCJ0b3AiLCJzdG9yeUxvYWRlZENhbGxiYWNrIiwicmVxdWVzdENob2ljZSIsImVwaXNvZGVQb3NpdGlvbiIsImNoYXB0ZXJQb3NpdGlvbiIsImN1ZVBvc2l0aW9uIiwic3BlZWNoUG9zaXRpb24iLCJfZXZpZGVuY2UiLCJzdG9yeUZpbmlzaGVkTG9hZGluZyIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsInJlZ2lzdGVyIiwidGFuZ2VudCIsInRhbmdlbnRQb3NpdGlvbiIsImNoYXB0ZXIiLCJjb250ZW50IiwiZXBpc29kZSIsImNoYXB0ZXJzIiwiZXBpc29kZXMiLCJxdWVzdGlvbiIsImV2aWRlbmNlSWRSZXF1aXJlZCIsImFjY2VwdGVkUmVzcG9uc2VzIiwiY2hvaWNlIiwiaW5kZXgiLCJjb3JyZWN0IiwiZmlsdGVyIiwid3JvbmciLCJfdGFuZ2VudCIsImNhbnZhcyIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwicmVjdCIsInRleHRfYm94XzEiLCJjaG9pY2Vfc2VsZWN0XzEiLCJUZXh0Qm94IiwiY2hvaWNlU2VsZWN0IiwiQ2hvaWNlU2VsZWN0Iiwic3BlYWtlckVsZW1lbnQiLCJ0ZXh0RWxlbWVudCIsInRhYnNFbGVtZW50IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJibGlwTnVtIiwic3BlYWtlciIsInRleHQiLCJjbGVhciIsInNwZWVkIiwicGFyc2VDaGFyIiwiaXNMYXN0Q2hhcmFjdGVyIiwiY29tbWFuZCIsInBhcmFtcyIsInBhcmFtU3RyaW5nIiwiaiIsInNwbGl0IiwiY2hhciIsImluc3RhbmNlT2ZRdWV1ZWRDaGFyYWN0ZXIiLCJjaGFyRWxlbWVudCIsIm5leHRDaGFyIiwicHJlcGFyZVRvQWRkQ2hhciIsIm5leHRJbmRleCIsImFkZENoYXIiLCJzaG91bGRTcGVlZFVwIiwiZ2V0V2FpdFRpbWUiLCJxdWVyeVNlbGVjdG9yIiwiY29udGFpbmVyIiwiaW5uZXJIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJjaG9pY2VFbGVtZW50IiwiY2hvaWNlVG9NYWtlIiwiY2hvaWNlVGV4dCIsIm5ld0NoaWxkcmVuIiwibG9jYWxpemF0aW9uTG9hZGVkQ2FsbGJhY2siLCJfbGFuZ3VhZ2UiLCJ3b3JkcyIsImZpbmFsU3RyaW5nIiwid29yZCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic3Vic3RyaW5nIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVB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QUFLbU0sS0FBT0EsRUFDWm5NLEtBQUt1QixRQUFVTCxTQUFTQyxjQUFjLFVBQ3RDbkIsS0FBS3VCLFFBQVEwQixZQUFnQjVELE9BQWVDLFVBQXdCb0YsU0FBU3lILEdBQzdFbk0sS0FBS3VCLFFBQVFSLFVBQVVDLElBQUksa0dDVG5DLE1BQUFYLEVBQUF2RCxFQUFBLEdBRUFFLEVBQUFrSSxVQUFBLE1BSUl6RSxZQUFZbEIsRUFBa0J1TyxHQUMxQjlOLEtBQUs4TiwyQkFBNkJBLEVBQ2xDOU4sS0FBSytOLFVBQVl4TyxFQUNoQkYsT0FBZUMsVUFBWVUsS0FPNUJLLEVBQUFiLFNBQVNkLEtBQUtzQixLQUFkSyxDQUFvQixpQkFBa0IsU0FBU1gsR0FDM0NNLEtBQUtaLFVBQVk0SyxLQUFLQyxNQUFNdkssRUFBUXdLLGNBQ3BDbEssS0FBSzhOLDhCQUNQcFAsS0FBS3NCLE9BRVhTLFNBQVNoRCxHQUNMLEdBQUl1QyxLQUFLWixVQUFVM0IsR0FDZixPQUFPdUMsS0FBS1osVUFBVTNCLEdBR3RCLElBQUl1USxFQUFRdlEsRUFBS21QLE1BQU0sS0FDbkJxQixFQUFjLEdBQ2xCLElBQUssSUFBSUMsS0FBUUYsRUFFYkMsR0FEQUMsRUFBT0EsRUFBS0MsT0FBTyxHQUFHQyxjQUFnQkYsRUFBS0csVUFBVSxHQUd6RCxPQUFPSixFQUdmMU8sZUFDSSxPQUFPUyxLQUFLK04iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzKTtcbiIsIi8qZXhwb3J0IGZ1bmN0aW9uIGxvYWRGaWxlKHBhdGg6IHN0cmluZywgY2FsbGJhY2s6IChyZXF1ZXN0OiBYTUxIdHRwUmVxdWVzdCkgPT4gdm9pZCkge1xyXG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgIHJlcXVlc3Qub3BlbihcIkdFVFwiLCBcInJlc291cmNlcy9cIiArIHBhdGgsIHRydWUpO1xyXG4gICAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbih0aGlzOiBYTUxIdHRwUmVxdWVzdCk6IHZvaWQge2NhbGxiYWNrKHRoaXMpfTtcclxuICAgIHJlcXVlc3Quc2VuZChudWxsKVxyXG59Ki9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVQYXRoKHBhdGg6IHN0cmluZywgbG9jYWxpemVkOiBib29sZWFuID0gdHJ1ZSk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gXCJyZXNvdXJjZXMvXCIgKyAobG9jYWxpemVkID8gKCh3aW5kb3cgYXMgYW55KS5sb2NhbGl6ZXIubGFuZ3VhZ2UgKyBcIi9cIikgOiBcImRlZmF1bHQvXCIpICsgcGF0aDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRGaWxlKHBhdGg6IHN0cmluZywgY2FsbGJhY2s6IChyZXF1ZXN0OiBYTUxIdHRwUmVxdWVzdCkgPT4gdm9pZCwgbG9jYWxpemVkOiBib29sZWFuID0gdHJ1ZSkge1xyXG4gICAgLy9jb25zb2xlLmxvZyh0aGlzKTtcclxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICByZXF1ZXN0Lm9wZW4oXCJHRVRcIiwgcmVzb2x2ZVBhdGgocGF0aCwgbG9jYWxpemVkKSwgdHJ1ZSk7XHJcbiAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcXVlc3QucmVhZHlTdGF0ZSA9PT0gNCkge1xyXG4gICAgICAgICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAvL3N1Y2Nlc3NcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhbGl6ZWQpIHtcclxuICAgICAgICAgICAgICAgIGxvYWRGaWxlLmJpbmQodGhpcykocGF0aCwgY2FsbGJhY2ssIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pLmJpbmQodGhpcyk7XHJcbiAgICByZXF1ZXN0Lm9ubG9hZCA9IGZ1bmN0aW9uKCk6IGFueSB7IFxyXG4gICAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PSAyMDApIHtcclxuICAgICAgICAgICAgY2FsbGJhY2suYmluZCh0aGlzKShyZXF1ZXN0KVxyXG4gICAgICAgIH1cclxuICAgIH0uYmluZCh0aGlzKTtcclxuICAgIHJlcXVlc3Quc2VuZChudWxsKTtcclxufSIsImltcG9ydCB7IFRhYmJlZEVsZW1lbnQgfSBmcm9tIFwiLi90YWJiZWQtZWxlbWVudFwiO1xyXG5pbXBvcnQgeyBTdG9yeU1hbmFnZXIgfSBmcm9tIFwiLi4vc3Rvcnkvc3RvcnktbWFuYWdlclwiO1xyXG5pbXBvcnQgeyByZXBsYWNlRWxlbWVudENoaWxkcmVuIH0gZnJvbSBcIi4vY2xlYXItZWxlbWVudFwiO1xyXG5pbXBvcnQgeyByZXNvbHZlUGF0aCB9IGZyb20gXCIuLi9maWxlLWxvYWRlclwiO1xyXG5pbXBvcnQgeyBFdmlkZW5jZSB9IGZyb20gXCIuLi9zdG9yeS9ldmlkZW5jZVwiO1xyXG5pbXBvcnQgeyBQb3BvdXRCdXR0b24gfSBmcm9tIFwiLi9wb3BvdXQtYnV0dG9uXCI7XHJcbmltcG9ydCB7IExvY2FsaXplciB9IGZyb20gXCIuLi9sb2NhbGl6ZXJcIjtcclxuaW1wb3J0IHsgdXVpZHY0IH0gZnJvbSBcIi4uL2d1aWRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBPcmdhbml6ZXJUYWIgZXh0ZW5kcyBUYWJiZWRFbGVtZW50IHtcclxuICAgIGV2aWRlbmNlQ29udGFpbmVyRWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcbiAgICBzdG9yeTogU3RvcnlNYW5hZ2VyO1xyXG4gICAgc2VsZWN0ZWRFdmlkZW5jZTogRXZpZGVuY2U7XHJcbiAgICBwcmVzZW50QnV0dG9uOiBQb3BvdXRCdXR0b247XHJcbiAgICBfcHJlc2VudGluZzogYm9vbGVhbjtcclxuICAgIGV2aWRlbmNlRWxlbWVudHM6IEFycmF5PEhUTUxFbGVtZW50PjtcclxuICAgIHByZXNlbnQ6IChlOiBFdmlkZW5jZSkgPT4gdm9pZDtcclxuICAgIGNvbnN0cnVjdG9yKHN0b3J5OiBTdG9yeU1hbmFnZXIsIHByZXNlbnQ6IChlOiBFdmlkZW5jZSkgPT4gdm9pZCkge1xyXG4gICAgICAgIHN1cGVyKFwib3JnYW5pemVyXCIsXCJpY29ucy9vcmdhbml6ZXIuc3ZnXCIpO1xyXG4gICAgICAgIHRoaXMucHJlc2VudCA9IHByZXNlbnQ7XHJcbiAgICAgICAgdGhpcy5wcmVzZW50aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zdG9yeSA9IHN0b3J5O1xyXG4gICAgICAgIHRoaXMuYm9keUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm9yZ2FuaXplclwiKTtcclxuICAgICAgICB0aGlzLmV2aWRlbmNlQ29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5ldmlkZW5jZUNvbnRhaW5lckVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImV2aWRlbmNlLWNvbnRhaW5lclwiLFwicG9wXCIpO1xyXG4gICAgICAgIHRoaXMuYm9keUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5ldmlkZW5jZUNvbnRhaW5lckVsZW1lbnQpO1xyXG5cclxuICAgICAgICB0aGlzLnByZXNlbnRCdXR0b24gPSBuZXcgUG9wb3V0QnV0dG9uKFwicHJlc2VudFwiKTtcclxuICAgICAgICB0aGlzLnByZXNlbnRCdXR0b24uZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wXCIsXCJ0YWItcG9wb3V0XCIsXCJ0dWNrZWRcIixcImludGVyYWN0YWJsZVwiKTtcclxuICAgICAgICB0aGlzLnRhYkVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5wcmVzZW50QnV0dG9uLmVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMucHJlc2VudEJ1dHRvbi5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnRlcmFjdGVkXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLnByZXNlbnQodGhpcy5zZWxlY3RlZEV2aWRlbmNlKVxyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKHRydWUpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZpZGVuY2VFbGVtZW50cyA9IFtdO1xyXG4gICAgfVxyXG4gICAgZ2V0IHByZXNlbnRpbmcoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZXNlbnRpbmc7XHJcbiAgICB9XHJcbiAgICBzZXQgcHJlc2VudGluZyh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuX3ByZXNlbnRpbmcgPSB2YWx1ZTtcclxuICAgICAgICBpZiAodGhpcy5wcmVzZW50aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYm9keUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInByZXNlbnRpbmdcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5ib2R5RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicHJlc2VudGluZ1wiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvcGVuKHByZXNlbnRpbmc6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZXZpZGVuY2VFbGVtZW50cy5tYXAoZSA9PiBlLmRhdGFzZXQuZXZpZGVuY2VJZCkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3RvcnkuZXZpZGVuY2UubWFwKGUgPT4gZS5pZCkpO1xyXG4gICAgICAgIGlmICh0aGlzLmV2aWRlbmNlRWxlbWVudHMubWFwKGUgPT4gZS5kYXRhc2V0LmV2aWRlbmNlSWQpICE9IHRoaXMuc3RvcnkuZXZpZGVuY2UubWFwKGUgPT4gZS5pZCkpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVFdmlkZW5jZUVsZW1lbnRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgICAgICBpZiAocHJlc2VudGluZykge1xyXG4gICAgICAgICAgICB0aGlzLnByZXNlbnRCdXR0b24uZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwidHVja2VkXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnByZXNlbnRCdXR0b24uZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgIHRoaXMucHJlc2VudGluZyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2xvc2UoZm9yY2U/OiBib29sZWFuKSB7XHJcbiAgICAgICAgaWYgKGZvcmNlIHx8ICF0aGlzLnByZXNlbnRpbmcpe1xyXG4gICAgICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnByZXNlbnRCdXR0b24uZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidHVja2VkXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnByZXNlbnRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGdldEV2aWRlbmNlRWxlbWVudHMoKTogQXJyYXk8SFRNTEVsZW1lbnQ+IHtcclxuICAgICAgICB2YXIgZWxlbWVudHM6IEFycmF5PEhUTUxFbGVtZW50PiA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdG9yeS5ldmlkZW5jZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgZXZpZGVuY2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgZXZpZGVuY2VFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJldmlkZW5jZVwiLFwicG9wXCIpO1xyXG4gICAgICAgICAgICBldmlkZW5jZUVsZW1lbnQuZGF0YXNldC5ldmlkZW5jZUlkID0gdGhpcy5zdG9yeS5ldmlkZW5jZVtpXS5pZDtcclxuXHJcbiAgICAgICAgICAgIHZhciBldmlkZW5jZUltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuICAgICAgICAgICAgZXZpZGVuY2VJbWFnZS5zcmMgPSB0aGlzLnN0b3J5LmV2aWRlbmNlW2ldLmltYWdlID8gcmVzb2x2ZVBhdGgodGhpcy5zdG9yeS5ldmlkZW5jZVtpXS5pbWFnZSkgOiBcImh0dHBzOi8vd3d3LnN0YXBsZXMtM3AuY29tL3M3L2lzL2ltYWdlL1N0YXBsZXMvc3AzNjE4ODI4Nl9zYzc/d2lkPTUxMiZoZWk9NTEyXCI7XHJcbiAgICAgICAgICAgIGV2aWRlbmNlRWxlbWVudC5hcHBlbmRDaGlsZChldmlkZW5jZUltYWdlKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBldmlkZW5jZVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgICAgICBldmlkZW5jZVRleHQuY2xhc3NMaXN0LmFkZChcImV2aWRlbmNlLXRleHRcIik7XHJcbiAgICAgICAgICAgIGV2aWRlbmNlRWxlbWVudC5hcHBlbmRDaGlsZChldmlkZW5jZVRleHQpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGV2aWRlbmNlTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgICAgICAgICBldmlkZW5jZU5hbWUudGV4dENvbnRlbnQgPSB0aGlzLnN0b3J5LmV2aWRlbmNlW2ldLm5hbWU7XHJcbiAgICAgICAgICAgIGV2aWRlbmNlTmFtZS5jbGFzc0xpc3QuYWRkKFwiZXZpZGVuY2UtbmFtZVwiKTtcclxuICAgICAgICAgICAgZXZpZGVuY2VUZXh0LmFwcGVuZENoaWxkKGV2aWRlbmNlTmFtZSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZXZpZGVuY2VEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgICAgICAgICBldmlkZW5jZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gdGhpcy5zdG9yeS5ldmlkZW5jZVtpXS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgZXZpZGVuY2VEZXNjcmlwdGlvbi5jbGFzc0xpc3QuYWRkKFwiZXZpZGVuY2UtZGVzY3JpcHRpb25cIik7XHJcbiAgICAgICAgICAgIGV2aWRlbmNlVGV4dC5hcHBlbmRDaGlsZChldmlkZW5jZURlc2NyaXB0aW9uKTtcclxuXHJcbiAgICAgICAgICAgIGV2aWRlbmNlRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaW50ZXJhY3RhYmxlXCIpO1xyXG4gICAgICAgICAgICBldmlkZW5jZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImludGVyYWN0ZWRcIiwgZnVuY3Rpb24oZXZpZGVuY2U6IEV2aWRlbmNlLCBlOiBFdmVudCl7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWV2aWRlbmNlRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJkaXNhYmxlZFwiKSAmJiB0aGlzLnByZXNlbnRpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzLHRoaXMuc3RvcnkuZXZpZGVuY2VbaV0pKTtcclxuXHJcbiAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goZXZpZGVuY2VFbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhlbGVtZW50cyk7XHJcbiAgICAgICAgLy90aGlzLmV2aWRlbmNlRWxlbWVudHMgPSBlbGVtZW50cztcclxuICAgICAgICByZXR1cm4gZWxlbWVudHM7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVFdmlkZW5jZUVsZW1lbnRzKCkge1xyXG4gICAgICAgIHRoaXMuZXZpZGVuY2VFbGVtZW50cyA9IHRoaXMuZ2V0RXZpZGVuY2VFbGVtZW50cygpO1xyXG4gICAgICAgIHJlcGxhY2VFbGVtZW50Q2hpbGRyZW4odGhpcy5ldmlkZW5jZUNvbnRhaW5lckVsZW1lbnQsIHRoaXMuZXZpZGVuY2VFbGVtZW50cyk7XHJcbiAgICB9XHJcbiAgICBzZWxlY3QoZWxlbWVudDogSFRNTEVsZW1lbnQpe1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkRXZpZGVuY2UgJiYgdGhpcy5zZWxlY3RlZEV2aWRlbmNlLmlkID09IGVsZW1lbnQuZGF0YXNldC5ldmlkZW5jZUlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMubm90UmVhZHlUb1ByZXNlbnQoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlYWR5VG9QcmVzZW50KCk7XHJcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEV2aWRlbmNlID0gdGhpcy5zdG9yeS5ldmlkZW5jZS5maW5kKGUgPT4gZS5pZCA9PSBlbGVtZW50LmRhdGFzZXQuZXZpZGVuY2VJZCk7XHJcbiAgICB9XHJcbiAgICByZWFkeVRvUHJlc2VudCgpe1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ldmlkZW5jZUVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZpZGVuY2VFbGVtZW50c1tpXS5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0ZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJlc2VudEJ1dHRvbi5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhYmxlZFwiKTtcclxuICAgIH1cclxuICAgIG5vdFJlYWR5VG9QcmVzZW50KCl7XHJcbiAgICAgICAgdmFyIHNlbGVjdGVkRWxlbWVudCA9ICh0aGlzLmV2aWRlbmNlRWxlbWVudHMuZmluZCgoZWxlbWVudDogSFRNTEVsZW1lbnQpID0+IChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcInNlbGVjdGVkXCIpKSkpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRFdmlkZW5jZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLnByZXNlbnRCdXR0b24uZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgc2VsZWN0ZWRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3RlZFwiKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IHJlc29sdmVQYXRoIH0gZnJvbSBcIi4uL2ZpbGUtbG9hZGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVGFiYmVkRWxlbWVudCB7XHJcbiAgICB0YWJFbGVtZW50OiBIVE1MRGl2RWxlbWVudDtcclxuICAgIGJvZHlFbGVtZW50OiBIVE1MRGl2RWxlbWVudDtcclxuICAgIHRhYkNvbnRlbnRFbGVtZW50OiBIVE1MRGl2RWxlbWVudDtcclxuICAgIF9zdGF0ZTogXCJvcGVuZWRcIiB8IFwiY2xvc2VkXCI7XHJcbiAgICBsYWJlbFNob3duOiBib29sZWFuO1xyXG4gICAgdGFiVGV4dEVsZW1lbnQ6IEhUTUxTcGFuRWxlbWVudDtcclxuICAgIHRhYk5hbWU6IHN0cmluZztcclxuICAgIGljb246IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBjb25zdHJ1Y3RvciAodGFiTmFtZTogc3RyaW5nLCBpY29uPzogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy50YWJOYW1lID0gdGFiTmFtZTtcclxuICAgICAgICB0aGlzLmxhYmVsU2hvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRhYkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMudGFiRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidGFiXCIsXCJwb3BcIik7XHJcblxyXG4gICAgICAgIHRoaXMudGFiQ29udGVudEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGlmIChpY29uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICAgICAgICAgIHRoaXMuaWNvbi5zcmMgPSByZXNvbHZlUGF0aChpY29uLGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5pY29uLmNsYXNzTGlzdC5hZGQoXCJpY29uXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnRhYkNvbnRlbnRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuaWNvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMudGFiVGV4dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgICAgICB0aGlzLnRhYlRleHRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0YWItbGFiZWxcIik7XHJcblxyXG4gICAgICAgIHRoaXMucmVmcmVzaExhYmVsKCk7XHJcblxyXG4gICAgICAgIHRoaXMudGFiQ29udGVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRhYi1jb250ZW50XCIpO1xyXG4gICAgICAgIHRoaXMudGFiRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnRhYkNvbnRlbnRFbGVtZW50KTtcclxuXHJcbiAgICAgICAgdGhpcy5ib2R5RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5ib2R5RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidGFiLWJvZHlcIixcInBvcFwiLFwiaW50ZXJhY3RhYmxlXCIpO1xyXG4gICAgICAgIHRoaXMudGFiRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmJvZHlFbGVtZW50KTtcclxuXHJcbiAgICAgICAgdGhpcy50YWJFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnRlcmFjdGVkXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSBcIm9wZW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy50YWJFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJpbnRlcmFjdGFibGVcIik7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5yZWZyZXNoTGFiZWwuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcbiAgICBnZXQgc3RhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50YWJFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJvcGVuZWRcIik7XHJcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBcIm9wZW5lZFwiO1xyXG4gICAgfVxyXG4gICAgY2xvc2UoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50YWJFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuZWRcIik7XHJcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBcImNsb3NlZFwiO1xyXG4gICAgfVxyXG4gICAgcmVmcmVzaExhYmVsKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICgoKHRoaXMuaWNvbiAmJiB3aW5kb3cuaW5uZXJXaWR0aCA+IDUwMCkgfHwgIXRoaXMuaWNvbikpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmxhYmVsU2hvd24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xhYmVsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubGFiZWxTaG93bikge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGVMYWJlbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNob3dMYWJlbCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRhYlRleHRFbGVtZW50LnRleHRDb250ZW50ID0gKCh3aW5kb3cgYXMgYW55KS5sb2NhbGl6ZXIubG9jYWxpemUodGhpcy50YWJOYW1lKSk7XHJcbiAgICAgICAgdGhpcy50YWJDb250ZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnRhYlRleHRFbGVtZW50KTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKFwic2hvd25cIik7XHJcbiAgICAgICAgdGhpcy5sYWJlbFNob3duID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGhpZGVMYWJlbCgpOiB2b2lkIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgIHRoaXMudGFiVGV4dEVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnRhYlRleHRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLmxhYmVsU2hvd24gPSBmYWxzZTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IElyaXMgfSBmcm9tIFwiLi9pcmlzXCI7XHJcbmltcG9ydCB7IFRhYmJlZEVsZW1lbnQgfSBmcm9tIFwiLi91c2VyLWludGVyZmFjZS90YWJiZWQtZWxlbWVudFwiO1xyXG5pbXBvcnQgeyBMb2NhbGl6ZXIgfSBmcm9tIFwiLi9sb2NhbGl6ZXJcIjtcclxuaW1wb3J0IHsgT3JnYW5pemVyVGFiIH0gZnJvbSBcIi4vdXNlci1pbnRlcmZhY2Uvb3JnYW5pemVyLXRhYlwiO1xyXG5cclxuXHJcbnZhciBnYW1lID0gbmV3IElyaXMoKTtcclxuKHdpbmRvdyBhcyBhbnkpLmxvY2FsaXplciA9IG5ldyBMb2NhbGl6ZXIoXCJlbmdsaXNoXCIsIGxvY0xvYWRlZCk7XHJcbmdhbWUubG9hZFN0b3J5KFwibWFpbi1zdG9yeS5qc29uXCIpO1xyXG5cclxuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChnYW1lLmVsZW1lbnQpO1xyXG5cclxuaWYgKC8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfChvfGEpZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8LzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSl7XHJcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJtb2JpbGVcIik7XHJcbiAgICBkb2N1bWVudC5ib2R5LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vYmlsZVwiKTtcclxuICAgIGdhbWUuc2hvd1Njcm9sbE5vdGlmaWNhdGlvbigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsb2NMb2FkZWQoKSB7XHJcbiAgICBnYW1lLmxvY2FsaXphdGlvbkxvYWRlZC5iaW5kKGdhbWUpKCk7XHJcbiAgICBnYW1lLnVzZXJJbnRlcmZhY2UudGV4dEJveC50YWJzID0gW1xyXG4gICAgICAgIG5ldyBUYWJiZWRFbGVtZW50KFwic2F2ZVwiLCBcImljb25zL3NhdmUuc3ZnXCIpLFxyXG4gICAgICAgIG5ldyBUYWJiZWRFbGVtZW50KFwiY2hhdC1oaXN0b3J5XCIsIFwiaWNvbnMvY2hhdC5zdmdcIiksXHJcbiAgICAgICAgbmV3IE9yZ2FuaXplclRhYihnYW1lLnN0b3J5TWFuYWdlciwgZ2FtZS5wcmVzZW50LmJpbmQoZ2FtZSkpXHJcbiAgICBdXHJcbiAgICBnYW1lLnVzZXJJbnRlcmZhY2UudGV4dEJveC51cGRhdGVUYWJzKCk7XHJcbn1cclxuXHJcbi8vd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgaGlkZUJvdHRvbUJhcik7XHJcbi8vd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGhpZGVCb3R0b21CYXIpOyIsImltcG9ydCB7IFN0b3J5TWFuYWdlciB9IGZyb20gXCIuL3N0b3J5L3N0b3J5LW1hbmFnZXJcIjtcclxuaW1wb3J0IHsgVmlzdWFscyB9IGZyb20gXCIuL3Zpc3VhbHNcIjtcclxuaW1wb3J0IHsgVXNlckludGVyZmFjZSB9IGZyb20gXCIuL3VzZXItaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IExvY2FsaXplciB9IGZyb20gXCIuL2xvY2FsaXplclwiO1xyXG5pbXBvcnQgeyBPcmdhbml6ZXJUYWIgfSBmcm9tIFwiLi91c2VyLWludGVyZmFjZS9vcmdhbml6ZXItdGFiXCI7XHJcbmltcG9ydCB7IFRhYmJlZEVsZW1lbnQgfSBmcm9tIFwiLi91c2VyLWludGVyZmFjZS90YWJiZWQtZWxlbWVudFwiO1xyXG5pbXBvcnQgeyBFdmlkZW5jZSB9IGZyb20gXCIuL3N0b3J5L2V2aWRlbmNlXCI7XHJcbmltcG9ydCB7IENob2ljZSB9IGZyb20gXCIuL3N0b3J5L2Nob2ljZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIElyaXMge1xyXG4gICAgc3RvcnlNYW5hZ2VyOiBTdG9yeU1hbmFnZXI7XHJcbiAgICB1c2VySW50ZXJmYWNlOiBVc2VySW50ZXJmYWNlO1xyXG4gICAgdmlzdWFsczogVmlzdWFscztcclxuICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG4gICAgdG91Y2hTdGFydGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBndWlXcmFwcGVyOiBIVE1MRWxlbWVudDtcclxuICAgIGZpbmlzaGVkTG9hZGluZzogYm9vbGVhbjtcclxuICAgIGludGVyZmFjZUhhc0xvYWRlZDogYm9vbGVhbjtcclxuICAgIHN0b3J5SGFzTG9hZGVkOiBib29sZWFuO1xyXG4gICAgc3RvcnlTa2lwcGluZzogbnVtYmVyO1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5maW5pc2hlZExvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmludGVyZmFjZUhhc0xvYWRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3RvcnlIYXNMb2FkZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy9HZXQgdGhlIHNjcm9sbGJhciB3aWR0aCBcclxuICAgICAgICB2YXIgc2Nyb2xsQmFyVGVzdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgc2Nyb2xsQmFyVGVzdERpdi5zdHlsZS5vdmVyZmxvdyA9IFwic2Nyb2xsXCI7XHJcbiAgICAgICAgc2Nyb2xsQmFyVGVzdERpdi50ZXh0Q29udGVudCA9IFwiVGVzdCBEaXZcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcm9sbEJhclRlc3REaXYpO1xyXG4gICAgICAgIHZhciBzY3JvbGxXaWR0aCA9IHNjcm9sbEJhclRlc3REaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxCYXJUZXN0RGl2LmNsaWVudFdpZHRoO1xyXG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tc2Nyb2xsQmFyV2lkdGhcIixzY3JvbGxXaWR0aC50b1N0cmluZygpICsgXCJweFwiKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcm9sbEJhclRlc3REaXYpO1xyXG5cclxuICAgICAgICB0aGlzLnZpc3VhbHMgPSBuZXcgVmlzdWFscygpO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZ2FtZVwiKTtcclxuICAgICAgICB0aGlzLmd1aVdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMuZ3VpV3JhcHBlci5jbGFzc0xpc3QuYWRkKFwiaW50ZXJmYWNlLXdyYXBwZXJcIik7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuZ3VpV3JhcHBlcik7XHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBmdW5jdGlvbihldmVudDogVG91Y2hFdmVudCkge1xyXG4gICAgICAgICAgICBldmVudC50b3VjaGVzWzBdLnRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImludGVyYWN0ZWRcIix7fSkpO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGVtcHRUb0FkdmFuY2UoKTtcclxuICAgICAgICAgICAgdGhpcy50b3VjaFN0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihldmVudDogRXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudG91Y2hTdGFydGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImludGVyYWN0ZWRcIix7fSkpO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGVtcHRUb0FkdmFuY2UoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uKGV2ZW50OiBFdmVudCl7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRvdWNoU3RhcnRlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVTdG9yeVNraXAoKTtcclxuICAgICAgICB9LmJpbmQodGhpcykpXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGZ1bmN0aW9uKGV2ZW50OiBFdmVudCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50b3VjaFN0YXJ0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnN0b3BTa2lwcGluZ1N0b3J5KCk7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuICAgIGF0dGVtcHRUb0FkdmFuY2UoZWxlbWVudD86IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnVzZXJJbnRlcmZhY2UudGV4dEJveC50YWJzT3BlbiAmJiB0aGlzLnN0b3J5TWFuYWdlci5jYW5BZHZhbmNlKSB7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudElzSW50ZXJhY3RhYmxlID0gKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaW50ZXJhY3RhYmxlXCIpKTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZWxlbWVudElzSW50ZXJhY3RhYmxlKTtcclxuICAgICAgICAgICAgICAgIGlmICghZWxlbWVudElzSW50ZXJhY3RhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxuICAgIHNjaGVkdWxlU3RvcnlTa2lwKCkge1xyXG4gICAgICAgIC8vd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnN0b3J5U2tpcHBpbmcpO1xyXG4gICAgICAgIHRoaXMuc3RvcnlTa2lwcGluZyA9IHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuc3RhcnRTa2lwcGluZ1N0b3J5LmJpbmQodGhpcyksIDUwMCk7XHJcbiAgICB9XHJcbiAgICBzdGFydFNraXBwaW5nU3RvcnkoKSB7XHJcbiAgICAgICAgdGhpcy5zdG9yeVNraXBwaW5nID0gd2luZG93LnNldEludGVydmFsKHRoaXMuYXR0ZW1wdFRvQWR2YW5jZS5iaW5kKHRoaXMpLDEwMCk7XHJcbiAgICB9XHJcbiAgICBzdG9wU2tpcHBpbmdTdG9yeSgpIHtcclxuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuc3RvcnlTa2lwcGluZyk7XHJcbiAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5zdG9yeVNraXBwaW5nKTtcclxuICAgIH1cclxuICAgIGxvYWRTdG9yeShwYXRoOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLnN0b3J5TWFuYWdlciA9IG5ldyBTdG9yeU1hbmFnZXIocGF0aCx0aGlzLnN0b3J5TG9hZGVkLmJpbmQodGhpcyksdGhpcy5yZXF1ZXN0RXZpZGVuY2UuYmluZCh0aGlzKSx0aGlzLnJlcXVlc3RDaG9pY2VzLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG4gICAgcmVxdWVzdEV2aWRlbmNlKCkge1xyXG4gICAgICAgICh0aGlzLnVzZXJJbnRlcmZhY2UudGV4dEJveC50YWJzLmZpbmQoKHRhYjogVGFiYmVkRWxlbWVudCkgPT4gKHRhYiBpbnN0YW5jZW9mIE9yZ2FuaXplclRhYikpIGFzIE9yZ2FuaXplclRhYikub3Blbih0cnVlKTtcclxuICAgIH1cclxuICAgIHJlcXVlc3RDaG9pY2VzKGNob2ljZXM6IEFycmF5PENob2ljZT4sIG1ha2VDaG9pY2U6IChjOiBudW1iZXIpID0+IGFueSkge1xyXG4gICAgICAgIHRoaXMudXNlckludGVyZmFjZS5jcmVhdGVDaG9pY2VzKGNob2ljZXMsIG1ha2VDaG9pY2UpO1xyXG4gICAgfVxyXG4gICAgbG9jYWxpemF0aW9uTG9hZGVkKHR5cGU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMpO1xyXG4gICAgICAgIHRoaXMudXNlckludGVyZmFjZSA9IG5ldyBVc2VySW50ZXJmYWNlKCk7XHJcbiAgICAgICAgdGhpcy5pbnRlcmZhY2VIYXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZ3VpV3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLnVzZXJJbnRlcmZhY2UuZWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5jaGVja0xvYWRTdGF0dXMoKTtcclxuICAgIH1cclxuICAgIHN0b3J5TG9hZGVkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc3RvcnlIYXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuY2hlY2tMb2FkU3RhdHVzKCk7XHJcbiAgICB9XHJcbiAgICBjaGVja0xvYWRTdGF0dXMoKTogdm9pZCB7XHJcbiAgICAgICAgLy90aGlzIGlzIHByb2JhYmx5IGp1c3QgdGVtcG9yYXJ5XHJcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJmYWNlSGFzTG9hZGVkICYmIHRoaXMuc3RvcnlIYXNMb2FkZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5maW5pc2hlZExvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhcnQoKTogdm9pZCB7XHJcbiAgICAgICAgLy90ZW1wIGNvZGVcclxuICAgICAgICB0aGlzLnN0b3J5TWFuYWdlci5zdGFydCgpO1xyXG4gICAgICAgIGlmICghdGhpcy5zdG9yeU1hbmFnZXIuY3VlLnNwZWVjaCkge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3J5TWFuYWdlci5nb1RvTmV4dFNwZWVjaCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnVzZXJJbnRlcmZhY2UudGV4dEJveC5zaG93VGV4dCh0aGlzLnN0b3J5TWFuYWdlci5jdWUuY2hhcmFjdGVyLCB0aGlzLnN0b3J5TWFuYWdlci5zcGVlY2gpO1xyXG4gICAgfVxyXG4gICAgYWR2YW5jZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy51c2VySW50ZXJmYWNlLnRleHRCb3guaXNGaW5pc2hlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3J5TWFuYWdlci5nb1RvTmV4dFNwZWVjaCgpO1xyXG4gICAgICAgICAgICB0aGlzLnVzZXJJbnRlcmZhY2UudGV4dEJveC5zaG93VGV4dCh0aGlzLnN0b3J5TWFuYWdlci5jdWUuY2hhcmFjdGVyLCB0aGlzLnN0b3J5TWFuYWdlci5zcGVlY2gpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudXNlckludGVyZmFjZS50ZXh0Qm94LmZpbmlzaCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNob3dTY3JvbGxOb3RpZmljYXRpb24oKTogdm9pZCB7XHJcbiAgICAgICAgdmFyIHNjcm9sbE5vdGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMuZ3VpV3JhcHBlci5hcHBlbmRDaGlsZChzY3JvbGxOb3RpKTtcclxuXHJcbiAgICAgICAgc2Nyb2xsTm90aS50ZXh0Q29udGVudCA9IFwiU2Nyb2xsIERvd25cIjtcclxuICAgICAgICBzY3JvbGxOb3RpLmNsYXNzTGlzdC5hZGQoXCJzY3JvbGwtbm90aVwiLFwicG9wXCIsXCJ0ZXh0XCIpO1xyXG4gICAgICAgIHNjcm9sbE5vdGkuc3R5bGUudG9wID0gXCIxMHB4XCI7XHJcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNjcm9sbE5vdGkuc3R5bGUudG9wID0gXCItMTAwdmhcIjtcclxuICAgICAgICB9LDUwMDApXHJcbiAgICB9XHJcbiAgICBwcmVzZW50KGV2aWRlbmNlOiBFdmlkZW5jZSl7XHJcbiAgICAgICAgdGhpcy5zdG9yeU1hbmFnZXIucHJlc2VudChldmlkZW5jZSk7XHJcbiAgICAgICAgdGhpcy51c2VySW50ZXJmYWNlLnRleHRCb3guc2hvd1RleHQodGhpcy5zdG9yeU1hbmFnZXIuY3VlLmNoYXJhY3RlciwgdGhpcy5zdG9yeU1hbmFnZXIuc3BlZWNoKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFN0b3J5IH0gZnJvbSBcIi4vc3RvcnlcIjtcclxuaW1wb3J0IHsgQ3VlIH0gZnJvbSBcIi4vY3VlXCI7XHJcbmltcG9ydCB7IENoYXB0ZXIgfSBmcm9tIFwiLi9jaGFwdGVyXCI7XHJcbmltcG9ydCB7IEVwaXNvZGUgfSBmcm9tIFwiLi9lcGlzb2RlXCI7XHJcbmltcG9ydCB7IEV2aWRlbmNlIH0gZnJvbSBcIi4vZXZpZGVuY2VcIjtcclxuaW1wb3J0IHsgbG9hZEZpbGUgfSBmcm9tIFwiLi4vZmlsZS1sb2FkZXJcIjtcclxuaW1wb3J0IHsgTG9jYWxpemVyIH0gZnJvbSBcIi4uL2xvY2FsaXplclwiO1xyXG5pbXBvcnQgeyBDaG9pY2UgfSBmcm9tIFwiLi9jaG9pY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdG9yeU1hbmFnZXIge1xyXG4gICAgcHJpdmF0ZSBzdG9yeTogU3Rvcnk7XHJcbiAgICBwcml2YXRlIGVwaXNvZGVQb3NpdGlvbjogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgY2hhcHRlclBvc2l0aW9uOiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBjdWVQb3NpdGlvbjogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgc3BlZWNoUG9zaXRpb246IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIF9ldmlkZW5jZTogQXJyYXk8RXZpZGVuY2U+ID0gW107XHJcbiAgICBwcml2YXRlIHN0b3J5TG9hZGVkQ2FsbGJhY2s6IEZ1bmN0aW9uO1xyXG4gICAgcHJpdmF0ZSBfdGFuZ2VudDogQXJyYXk8Q3VlPjtcclxuICAgIHByaXZhdGUgdGFuZ2VudFBvc2l0aW9uOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGV2aWRlbmNlSWRSZXF1aXJlZDogc3RyaW5nO1xyXG5cclxuICAgIC8vVE9ETzogcGVyaGFwcyBzcGxpdCB1cCB0aGlzIGNsYXNzIGludG8gc21hbGxlciBjbGFzc2VzXHJcbiAgICAvLyBzbyB0aGF0IHRoZSBxdWVzdGlvbnMgYW5kIHRoaW5ncyBoYXBwZW4gaW4gdGhlaXIgb3duXHJcbiAgICAvLyBjb250YWluZWQgY2xhc3M/XHJcbiAgICBwcml2YXRlIGFjY2VwdGVkUmVzcG9uc2VzOiBBcnJheTxudW1iZXI+O1xyXG4gICAgcHJpdmF0ZSByZXF1ZXN0RXZpZGVuY2U6IEZ1bmN0aW9uO1xyXG4gICAgcHJpdmF0ZSByZXF1ZXN0Q2hvaWNlczogKGM6IEFycmF5PENob2ljZT4sIG1ha2VDaG9pY2U6IChjOiBudW1iZXIpID0+IGFueSkgPT4gYW55O1xyXG4gICAgcHJpdmF0ZSBzdGF0ZTogXCJ0aXRsZVwiIHwgXCJ0YW5nZW50XCIgfCBcInN0b3J5XCIgfCBcImZyb3plblwiO1xyXG4gICAgY29uc3RydWN0b3IocGF0aDogc3RyaW5nLCBzdG9yeUxvYWRlZENhbGxiYWNrOiBGdW5jdGlvbiwgcmVxdWVzdEV2aWRlbmNlOiBGdW5jdGlvbiwgcmVxdWVzdENob2ljZTogKGM6IEFycmF5PENob2ljZT4sIG1ha2VDaG9pY2U6IChjOiBudW1iZXIpID0+IGFueSkgPT4gYW55KSB7XHJcbiAgICAgICAgbG9hZEZpbGUuYmluZCh0aGlzKShcInN0b3J5L21haW4tc3RvcnkuanNvblwiLCB0aGlzLnN0b3J5RmluaXNoZWRMb2FkaW5nLCB0cnVlKTtcclxuICAgICAgICB0aGlzLnN0b3J5TG9hZGVkQ2FsbGJhY2sgPSBzdG9yeUxvYWRlZENhbGxiYWNrO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2cocmVxdWVzdC5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vdGhpcy5zdG9yeSA9IDxTdG9yeT4oSlNPTi5wYXJzZSgneyBcImVwaXNvZGVzXCI6WyB7IFwidGl0bGVcIjpcIlRoZSBTY2llbnRpZmljIFR1cm5hYm91dFwiLCBcImNoYXB0ZXJzXCI6WyB7IFwidGl0bGVcIjpcIlRyaWFsIExvYmJ5XCIsIFwiY29udGVudFwiOlsgeyBcImNoYXJhY3RlclwiOlwiJFJvb2tpZVwiLCBcInNwZWVjaFwiOlsgXCIjI21vZGUodGhvdWdodCkoTXkgbmFtZSBpcyAkUm9va2llLCBhbmQgSW0gYSBkZWZlbmNlIGF0dG9ybmV5LilcIiwgXCIoTW9yZSBzcGVjaWZpY2FsbHksIEkgYW0gYSBzY2llbnRpZmljIGF0dG9ybmV5LS1hbmQgdG9kYXkgaXMgbXkgZmlyc3QgY2FzZS4pXCIgXSB9IF0gfSBdIH0sIHsgXCJ0aXRsZVwiOlwiVHVybmFib3V0IGZvciBGdXR1cml0eVwiLCBcImxvY2tlZFwiOnRydWUgfSBdIH0nKSk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLnN0b3J5KTtcclxuICAgICAgICB0aGlzLnJlcXVlc3RFdmlkZW5jZSA9IHJlcXVlc3RFdmlkZW5jZTtcclxuICAgICAgICB0aGlzLnJlcXVlc3RDaG9pY2VzID0gcmVxdWVzdENob2ljZTtcclxuICAgICAgICB0aGlzLnN0YXRlID0gXCJzdG9yeVwiO1xyXG4gICAgfVxyXG4gICAgc3RvcnlGaW5pc2hlZExvYWRpbmcocmVxdWVzdDogWE1MSHR0cFJlcXVlc3QpOiB2b2lkIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuc3RvcnkgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICB0aGlzLnN0b3J5TG9hZGVkQ2FsbGJhY2soKTtcclxuICAgIH1cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXIoKTtcclxuICAgIH1cclxuICAgIGdldCBjYW5BZHZhbmNlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5zdGF0ZSA9PSBcInN0b3J5XCIgfHwgdGhpcy5zdGF0ZSA9PSBcInRhbmdlbnRcIik7XHJcbiAgICB9XHJcbiAgICBnZXQgc3BlZWNoKCk6IHN0cmluZyB7XHJcbiAgICAgICAgdmFyIHNwZWVjaCA9IHRoaXMuY3VlLnNwZWVjaFt0aGlzLnNwZWVjaFBvc2l0aW9uXTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKHNwZWVjaCk7XHJcbiAgICAgICAgcmV0dXJuIHNwZWVjaDtcclxuICAgIH1cclxuICAgIGdldCBjdWUoKTogQ3VlIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSBcInRhbmdlbnRcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YW5nZW50W3RoaXMudGFuZ2VudFBvc2l0aW9uXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgY3VlID0gdGhpcy5jaGFwdGVyLmNvbnRlbnRbdGhpcy5jdWVQb3NpdGlvbl07XHJcbiAgICAgICAgICAgIGlmIChjdWUgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBcIkVycm9yOiBGb3VuZCBjdWUgdG8gYmUgdW5kZWZpbmVkIVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coY3VlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGN1ZTtcclxuICAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IGNoYXB0ZXIoKTogQ2hhcHRlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXBpc29kZS5jaGFwdGVyc1t0aGlzLmNoYXB0ZXJQb3NpdGlvbl1cclxuICAgIH1cclxuICAgIGdldCBlcGlzb2RlKCk6IEVwaXNvZGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0b3J5LmVwaXNvZGVzW3RoaXMuZXBpc29kZVBvc2l0aW9uXTtcclxuICAgIH1cclxuICAgIGdldCBldmlkZW5jZSgpOiBBcnJheTxFdmlkZW5jZT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9ldmlkZW5jZTtcclxuICAgIH1cclxuICAgIHJlZ2lzdGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmN1ZS5ldmlkZW5jZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jdWUuZXZpZGVuY2UgPT0gXCJuZXdcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZXZpZGVuY2UucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5jdWUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5jdWUuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuY3VlLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlOiB0aGlzLmN1ZS5pbWFnZSA/IHRoaXMuY3VlLmltYWdlIDogdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5jdWUucXVlc3Rpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFwiZnJvemVuXCI7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5jdWUucXVlc3Rpb24udHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImV2aWRlbmNlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmlkZW5jZUlkUmVxdWlyZWQgPSB0aGlzLmN1ZS5xdWVzdGlvbi5pZDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RFdmlkZW5jZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInRleHRcIjpcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUdXJucyBjaG9pY2VzIGludG8gdGhlaXIgaW5kZXhlcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsdGVycyBvdXQgdGhlIC0xJ3MgKHdyb25nIGNob2ljZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY2NlcHRlZFJlc3BvbnNlcyA9IHRoaXMuY3VlLnF1ZXN0aW9uLmNob2ljZXMubWFwKChjaG9pY2U6IENob2ljZSwgaW5kZXg6IG51bWJlcikgPT4gY2hvaWNlLmNvcnJlY3QgPyBpbmRleCA6IC0xKS5maWx0ZXIoKGluZGV4OiBudW1iZXIpID0+IGluZGV4ICE9IC0xKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RDaG9pY2VzKHRoaXMuY3VlLnF1ZXN0aW9uLmNob2ljZXMsIHRoaXMubWFrZUNob2ljZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG1ha2VDaG9pY2UoY2hvaWNlOiBudW1iZXIpe1xyXG4gICAgICAgIC8vYWN0dWFsbHkgbWFrZSB0aGUgY2hvaWNlXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJNYWRlIGNob2ljZSBcIiArIGNob2ljZSk7XHJcbiAgICB9XHJcbiAgICBwcmVzZW50KGV2aWRlbmNlOiBFdmlkZW5jZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmIChldmlkZW5jZS5pZCA9PSB0aGlzLmV2aWRlbmNlSWRSZXF1aXJlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmV2aWRlbmNlSWRSZXF1aXJlZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFuZ2VudCA9IHRoaXMuY3VlLnF1ZXN0aW9uLndyb25nO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMudGFuZ2VudCk7XHJcbiAgICAgICAgICAgIC8vdGhpcy5hZHZhbmNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZXZpZGVuY2VJZFJlcXVpcmVkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYWR2YW5jZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSBcImZyb3plblwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyppZiAodGhpcy50YW5nZW50ICYmIHRoaXMudGFuZ2VudC5sZW5ndGggLSAxID4gdGhpcy50YW5nZW50UG9zaXRpb24pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGFuZ2VudFBvc2l0aW9uID09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwZWVjaFBvc2l0aW9uID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRhbmdlbnRQb3NpdGlvbisrO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFkdmFuY2VkIGluIHRhbmdlbnQuIE5leHQgc3BlZWNoIGlzOiBcIiArIHRoaXMuY3VlLnNwZWVjaCk7XHJcbiAgICAgICAgfSovXHJcbiAgICAgICAgaWYgKHRoaXMuY3VlLnNwZWVjaCAmJiB0aGlzLmN1ZS5zcGVlY2gubGVuZ3RoIC0gMSA+IHRoaXMuc3BlZWNoUG9zaXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5zcGVlY2hQb3NpdGlvbisrO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFkdmFuY2VkIHRvIG5leHQgc3BlZWNoLiBOZXcgcG9zaXRpb246IFwiICsgdGhpcy5zcGVlY2hQb3NpdGlvbik7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlID09IFwidGFuZ2VudFwiKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRhbmdlbnQubGVuZ3RoIC0gMSA+IHRoaXMudGFuZ2VudFBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhbmdlbnRQb3NpdGlvbisrO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YW5nZW50ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNoYXB0ZXIuY29udGVudC5sZW5ndGggLSAxID4gdGhpcy5jdWVQb3NpdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLmN1ZVBvc2l0aW9uKys7XHJcbiAgICAgICAgICAgIHRoaXMuc3BlZWNoUG9zaXRpb24gPSAwO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFkdmFuY2VkIHRvIG5leHQgY3VlLlwiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZXBpc29kZS5jaGFwdGVycy5sZW5ndGggPiB0aGlzLmNoYXB0ZXJQb3NpdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLmNoYXB0ZXJQb3NpdGlvbisrO1xyXG4gICAgICAgICAgICB0aGlzLnNwZWVjaFBvc2l0aW9uID0gMDtcclxuICAgICAgICAgICAgdGhpcy5jdWVQb3NpdGlvbiA9IDA7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWR2YW5jZWQgdG8gbmV4dCBjaGFwdGVyLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBnZXQgdGFuZ2VudCgpOiBBcnJheTxDdWU+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGFuZ2VudDtcclxuICAgIH1cclxuICAgIHNldCB0YW5nZW50KHZhbHVlOiBBcnJheTxDdWU+KSB7XHJcbiAgICAgICAgdGhpcy5fdGFuZ2VudCA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnRhbmdlbnQgPT0gdW5kZWZpbmVkID8gXCJzdG9yeVwiIDogXCJ0YW5nZW50XCI7XHJcbiAgICAgICAgdGhpcy5zcGVlY2hQb3NpdGlvbiA9IDA7XHJcbiAgICAgICAgdGhpcy50YW5nZW50UG9zaXRpb24gPSAwO1xyXG4gICAgfVxyXG4gICAgZ29Ub05leHRTcGVlY2goKSB7XHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcigpO1xyXG4gICAgICAgIH0gd2hpbGUgKCF0aGlzLmN1ZS5zcGVlY2gpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFZpc3VhbHMge1xyXG4gICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICB0aGlzLmNhbnZhcy5jbGFzc0xpc3QuYWRkKFwidmlzdWFsc1wiKTtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5yZWN0KDEwLDEwLDIwLDIwKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFRleHRCb3ggfSBmcm9tIFwiLi90ZXh0LWJveFwiO1xyXG5pbXBvcnQgeyBDaG9pY2VTZWxlY3QgfSBmcm9tIFwiLi9jaG9pY2Utc2VsZWN0XCI7XHJcbmltcG9ydCB7IENob2ljZSB9IGZyb20gXCIuLi9zdG9yeS9jaG9pY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBVc2VySW50ZXJmYWNlIHtcclxuICAgIHRleHRCb3g6IFRleHRCb3g7XHJcbiAgICBlbGVtZW50OiBIVE1MRGl2RWxlbWVudDtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMudGV4dEJveCA9IG5ldyBUZXh0Qm94KCk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy50ZXh0Qm94LmVsZW1lbnQpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlQ2hvaWNlcyhjaG9pY2VzOiBBcnJheTxDaG9pY2U+LCBtYWtlQ2hvaWNlOiAoYzogbnVtYmVyKSA9PiBhbnkpOiB2b2lkIHtcclxuICAgICAgICB2YXIgY2hvaWNlU2VsZWN0ID0gbmV3IENob2ljZVNlbGVjdChjaG9pY2VzLCBtYWtlQ2hvaWNlKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hvaWNlU2VsZWN0LmVsZW1lbnQpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgVGFiYmVkRWxlbWVudCB9IGZyb20gXCIuL3RhYmJlZC1lbGVtZW50XCI7XHJcblxyXG5pbnRlcmZhY2UgUXVldWVkQ2hhcmFjdGVyIHtcclxuICAgIGNoYXJhY3Rlcjogc3RyaW5nO1xyXG4gICAgbW9kZTogc3RyaW5nO1xyXG4gICAgc3BlZWQ6IHN0cmluZztcclxuICAgIGluZGV4OiBudW1iZXI7XHJcbiAgICBpc0xhc3RDaGFyYWN0ZXI6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUZXh0Qm94IHtcclxuICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG4gICAgc3BlYWtlckVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG4gICAgdGV4dEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG4gICAgYmxpcE51bTogbnVtYmVyO1xyXG4gICAgaXNGaW5pc2hlZDogYm9vbGVhbjtcclxuICAgIHNob3VsZFNwZWVkVXA6IGJvb2xlYW47XHJcbiAgICB0YWJzOiBBcnJheTxUYWJiZWRFbGVtZW50PiA9IFtdO1xyXG4gICAgdGFic0VsZW1lbnQ6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRleHRcIixcInRleHQtYm94XCIpO1xyXG5cclxuICAgICAgICB0aGlzLnNwZWFrZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICAgICAgdGhpcy5zcGVha2VyRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibmFtZVwiLCBcInBvcFwiKTtcclxuXHJcbiAgICAgICAgdGhpcy50ZXh0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy50ZXh0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidGV4dC1ibG9ja1wiKTtcclxuXHJcbiAgICAgICAgdGhpcy50YWJzRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy50YWJzRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidGFic1wiKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVRhYnMoKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMudGFic0VsZW1lbnQpO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5zcGVha2VyRWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMudGV4dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnRhYnNFbGVtZW50KTsgXHJcbiAgICB9XHJcbiAgICB1cGRhdGVUYWJzKCkge1xyXG4gICAgICAgIHdoaWxlICh0aGlzLnRhYnNFbGVtZW50LmZpcnN0RWxlbWVudENoaWxkKSB7IHRoaXMudGFic0VsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQucmVtb3ZlKCk7IH1cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudGFicy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnRhYnNFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMudGFic1tpXS50YWJFbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgdGFic09wZW4oKTogYm9vbGVhbiB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRhYnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGFic1tpXS5zdGF0ZSA9PSBcIm9wZW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMudGFic1tpXS5zdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICB3aGlsZSAodGhpcy50ZXh0RWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCkgeyB0aGlzLnRleHRFbGVtZW50LmZpcnN0RWxlbWVudENoaWxkLnJlbW92ZSgpOyB9XHJcbiAgICAgICAgdGhpcy5zcGVha2VyRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5ibGlwTnVtID0gMDtcclxuICAgIH1cclxuICAgIHNob3dUZXh0KHNwZWFrZXI6IHN0cmluZywgdGV4dDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMuaXNGaW5pc2hlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLnNwZWFrZXJFbGVtZW50LnRleHRDb250ZW50ID0gc3BlYWtlcjtcclxuXHJcbiAgICAgICAgLy92YXIgcXVldWVkQ2hhcmFjdGVyczogQXJyYXk8UXVldWVkQ2hhcmFjdGVyPiA9IFtdO1xyXG5cclxuICAgICAgICB2YXIgc3BlZWQ6IFwiZmFzdFwiIHwgXCJzbG93XCIgfCBcInZlcnktc2xvd1wiID0gXCJmYXN0XCI7XHJcbiAgICAgICAgdmFyIG1vZGU6IFwic3BlZWNoXCIgfCBcInRob3VnaHRcIiB8IFwiZW1waGFzaXNcIiB8IFwib2JqZWN0XCIgfCBcInF1ZXN0aW9uXCIgPSBcInNwZWVjaFwiO1xyXG5cclxuICAgICAgICB2YXIgcGFyc2VDaGFyID0gZnVuY3Rpb24gKGluZGV4OiBudW1iZXIpOiBvYmplY3Qge1xyXG4gICAgICAgICAgICB2YXIgY2hhciA9IHRleHRbaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAoIShjaGFyID09IFwiI1wiICYmIHRleHRbaW5kZXggKyAxXSA9PSBcIiNcIikpIHtcclxuICAgICAgICAgICAgICAgIC8vcmV0dXJuIG5ldyBRdWV1ZWRDaGFyYWN0ZXIodGV4dFtpbmRleF0sIG1vZGUsIHNwZWVkLCBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcWNoYXI6IFF1ZXVlZENoYXJhY3RlciA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXI6IHRleHRbaW5kZXhdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IG1vZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IHNwZWVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICAgICAgICAgICAgICBpc0xhc3RDaGFyYWN0ZXI6IGluZGV4ICsgMSA+PSB0ZXh0Lmxlbmd0aFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHFjaGFyO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAvL0RldGVybWluaW5nIHRoZSBjb21tYW5kXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBpbmRleCArIDI7IHRleHRbaV0gIT0gXCIoXCIgJiYgdGV4dC5sZW5ndGggPiBpOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZCArPSB0ZXh0W2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9EZXRlcm1pbmluZyBpdHMgcGFyYW1ldGVyc1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbVN0cmluZyA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbXM6IEFycmF5PHN0cmluZz4gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gaSArIDE7IHRleHRbal0gIT0gXCIpXCIgJiYgdGV4dC5sZW5ndGggPiBqOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1TdHJpbmcgKz0gdGV4dFtqXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zID0gcGFyYW1TdHJpbmcuc3BsaXQoXCIsXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNvbW1hbmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1vZGVcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUgPSBwYXJhbXNbMF0gYXMgXCJzcGVlY2hcIiB8IFwidGhvdWdodFwiIHwgXCJlbXBoYXNpc1wiIHwgXCJvYmplY3RcIiB8IFwicXVlc3Rpb25cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3BlZWRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWVkID0gcGFyYW1zWzBdIGFzIFwiZmFzdFwiIHwgXCJzbG93XCIgfCBcInZlcnktc2xvd1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vcmV0dXJuIGogKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGluZGV4OiBqIH07XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJVbmFibGUgdG8gcGFyc2UgY29tbWFuZCFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vcmV0dXJuIGluZGV4ICsgMTtcclxuICAgICAgICB9LmJpbmQodGhpcyk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG5leHRDaGFyKGluZGV4OiBudW1iZXIpIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImluZGV4OiBcIiArIGluZGV4ICsgXCIgIHRleHQgbGVuZ3RoOiBcIiArIHRleHQubGVuZ3RoKTtcclxuICAgICAgICAgICAgdmFyIHByZXBhcmVUb0FkZENoYXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IHRleHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXIgPSBwYXJzZUNoYXIoaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0SW5kZXggPSBjaGFyLmluZGV4ICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoVGV4dEJveC5pbnN0YW5jZU9mUXVldWVkQ2hhcmFjdGVyKGNoYXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hhcihjaGFyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dENoYXIuYmluZCh0aGlzKShuZXh0SW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3VsZFNwZWVkVXApIHtcclxuICAgICAgICAgICAgICAgIHByZXBhcmVUb0FkZENoYXIoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHByZXBhcmVUb0FkZENoYXIuYmluZCh0aGlzKSwgVGV4dEJveC5nZXRXYWl0VGltZShzcGVlZCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGNoYXIgPSBwYXJzZUNoYXIoaSk7XHJcbiAgICAgICAgICAgIGlmICghVGV4dEJveC5pbnN0YW5jZU9mUXVldWVkQ2hhcmFjdGVyKGNoYXIpKSB7XHJcbiAgICAgICAgICAgICAgICBpID0gY2hhci5pbmRleDtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBjaGFyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgICAgICAgICBjaGFyRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidGV4dFwiLCBtb2RlLCBcImhpZGRlblwiKTtcclxuICAgICAgICAgICAgY2hhckVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0W2ldO1xyXG4gICAgICAgICAgICBjaGFyRWxlbWVudC5kYXRhc2V0LmluZGV4ID0gXCJcIiArIGk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRleHRFbGVtZW50LmFwcGVuZENoaWxkKGNoYXJFbGVtZW50KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG5leHRDaGFyLmJpbmQodGhpcykoMCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldFdhaXRUaW1lKHNwZWVkOiBcImZhc3RcIiB8IFwic2xvd1wiIHwgXCJ2ZXJ5LXNsb3dcIik6IG51bWJlciB7XHJcbiAgICAgICAgc3dpdGNoKHNwZWVkKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJmYXN0XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMjA7XHJcbiAgICAgICAgICAgIGNhc2UgXCJzbG93XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gNTA7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ2ZXJ5LXNsb3dcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiAyMDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpbnN0YW5jZU9mUXVldWVkQ2hhcmFjdGVyKGNoYXI6IGFueSk6IGNoYXIgaXMgUXVldWVkQ2hhcmFjdGVyIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKGNoYXIpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coY2hhci5jaGFyYWN0ZXIgIT09IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgcmV0dXJuIGNoYXIuY2hhcmFjdGVyICE9PSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQ2hhcihjaGFyOiBRdWV1ZWRDaGFyYWN0ZXIpOiB2b2lkIHtcclxuICAgICAgICB2YXIgY2hhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtaW5kZXg9J1wiICsgY2hhci5pbmRleCArIFwiJ11cIik7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcInJhblwiKTtcclxuICAgICAgICBjaGFyRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgIC8qdmFyIGNoYXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICAgICAgY2hhckVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRleHRcIiwgbW9kZSk7XHJcbiAgICAgICAgY2hhckVsZW1lbnQudGV4dENvbnRlbnQgPSBjaGFyYWN0ZXI7XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJBZGRlZDogXCIgKyBjaGFyYWN0ZXIpO1xyXG5cclxuICAgICAgICB0aGlzLnRleHRFbGVtZW50LmFwcGVuZENoaWxkKGNoYXJFbGVtZW50KTsqL1xyXG5cclxuICAgICAgICB2YXIgaXNQcm9ub3VuY2VkID0gXCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiO1xyXG5cclxuICAgICAgICAvL2lmICgoY2hhci5zcGVlZCAhPSBcImZhc3RcIiB8fCB0aGlzLmJsaXBOdW0gJSAyID09IDApICYmIGlzUHJvbm91bmNlZC5pbmNsdWRlcyhjaGFyLmNoYXJhY3Rlci50b0xvd2VyQ2FzZSgpKSkge1xyXG4gICAgICAgICAgICAvL25ldyBBdWRpbyhcInJlc291cmNlcy9EZWVwTWFsZUJsaXAud2F2XCIpLnBsYXkoKTtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIlBsYXllZCBzb3VuZCwgYmxpcCU6IFwiICsgdGhpcy5ibGlwTnVtICUgMik7XHJcbiAgICAgICAgLy99XHJcbiAgICAgICAgdGhpcy5ibGlwTnVtKys7XHJcbiAgICAgICAgaWYgKGNoYXIuY2hhcmFjdGVyID09IFwiIFwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmxpcE51bSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjaGFyLmlzTGFzdENoYXJhY3Rlcikge1xyXG4gICAgICAgICAgICB0aGlzLmlzRmluaXNoZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNob3VsZFNwZWVkVXAgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmaW5pc2goKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zaG91bGRTcGVlZFVwID0gdHJ1ZTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENob2ljZSB9IGZyb20gXCIuLi9zdG9yeS9jaG9pY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDaG9pY2VTZWxlY3Qge1xyXG4gICAgcHJpdmF0ZSBjaG9pY2VzOiBBcnJheTxDaG9pY2U+O1xyXG4gICAgY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudDtcclxuICAgIGVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgY29uc3RydWN0b3IgKGNob2ljZXM6IEFycmF5PENob2ljZT4sIG1ha2VDaG9pY2U6IChjOiBudW1iZXIpID0+IGFueSkge1xyXG4gICAgICAgIHRoaXMuY2hvaWNlcyA9IGNob2ljZXM7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiY2hvaWNlcy1jb250YWluZXJcIik7XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjb3ZlclwiKTtcclxuICAgICAgICBpZiAod2luZG93LmlubmVySGVpZ2h0IC0gdGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0IDwgNTAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiY292ZXJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaG9pY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjaG9pY2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgY2hvaWNlRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wXCIsXCJjaG9pY2VcIik7XHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiaW50ZXJhY3RlZFwiLGZ1bmN0aW9uKGNob2ljZVRvTWFrZTogQ2hvaWNlKSB7XHJcbiAgICAgICAgICAgICAgICBtYWtlQ2hvaWNlKGNob2ljZVRvTWFrZS5pbmRleCk7XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzLGNob2ljZXNbaV0pKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjaG9pY2VUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICAgICAgICAgIGNob2ljZVRleHQuY2xhc3NMaXN0LmFkZChcInRleHRcIixcImNob2ljZS10ZXh0XCIsXCJzaWxlbnQtY2hpbGRcIik7XHJcbiAgICAgICAgICAgIGNob2ljZVRleHQudGV4dENvbnRlbnQgPSBjaG9pY2VzW2ldLnRleHQ7XHJcbiAgICAgICAgICAgIGNob2ljZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hvaWNlVGV4dCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGNob2ljZUVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO1xyXG4gICAgfVxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmNvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBmdW5jdGlvbiByZXBsYWNlRWxlbWVudENoaWxkcmVuKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBuZXdDaGlsZHJlbjogQXJyYXk8SFRNTEVsZW1lbnQ+KTogSFRNTEVsZW1lbnQge1xyXG4gICAgd2hpbGUgKGVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQpIHsgZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZC5yZW1vdmUoKTsgfVxyXG4gICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG5ld0NoaWxkcmVuW2ldKTtcclxuICAgIH1cclxuICAgIHJldHVybiBlbGVtZW50O1xyXG59IiwiaW1wb3J0IHsgTG9jYWxpemVyIH0gZnJvbSBcIi4uL2xvY2FsaXplclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcG91dEJ1dHRvbiB7XHJcbiAgICBlbGVtZW50OiBIVE1MRWxlbWVudDtcclxuICAgIHRleHQ6IHN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKHRleHQ6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQudGV4dENvbnRlbnQgPSAoKHdpbmRvdyBhcyBhbnkpLmxvY2FsaXplciBhcyBMb2NhbGl6ZXIpLmxvY2FsaXplKHRleHQpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wb3V0LWJ1dHRvblwiKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IGxvYWRGaWxlIH0gZnJvbSBcIi4vZmlsZS1sb2FkZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMb2NhbGl6ZXIge1xyXG4gICAgcHJpdmF0ZSBsb2NhbGl6ZWQ6IHsgW2luZGV4OiBzdHJpbmddOiBzdHJpbmd9O1xyXG4gICAgcHJpdmF0ZSBfbGFuZ3VhZ2U6IHN0cmluZztcclxuICAgIGxvY2FsaXphdGlvbkxvYWRlZENhbGxiYWNrOiAoKSA9PiB2b2lkO1xyXG4gICAgY29uc3RydWN0b3IobGFuZ3VhZ2U6IHN0cmluZywgbG9jYWxpemF0aW9uTG9hZGVkQ2FsbGJhY2s/OiAoKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgdGhpcy5sb2NhbGl6YXRpb25Mb2FkZWRDYWxsYmFjayA9IGxvY2FsaXphdGlvbkxvYWRlZENhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMuX2xhbmd1YWdlID0gbGFuZ3VhZ2U7XHJcbiAgICAgICAgKHdpbmRvdyBhcyBhbnkpLmxvY2FsaXplciA9IHRoaXM7XHJcbiAgICAgICAgLypmb3IgKGxldCBrZXkgaW4gdGhpcy5sb2NhbGl6ZWQpIHtcclxuICAgICAgICAgICAgbG9hZEZpbGUuYmluZCh0aGlzKShrZXkgKyBcIi5qc29uXCIsIGZ1bmN0aW9uKHJlcXVlc3Q6IFhNTEh0dHBSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsaXplZFtrZXldID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsaXphdGlvbkxvYWRlZENhbGxiYWNrKGtleSk7XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfSovXHJcbiAgICAgICAgbG9hZEZpbGUuYmluZCh0aGlzKShcImludGVyZmFjZS5qc29uXCIsIGZ1bmN0aW9uKHJlcXVlc3Q6IFhNTEh0dHBSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxpemVkID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxpemF0aW9uTG9hZGVkQ2FsbGJhY2soKTtcclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG4gICAgbG9jYWxpemUobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAodGhpcy5sb2NhbGl6ZWRbbmFtZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxpemVkW25hbWVdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vV2UgZG9uJ3QgaGF2ZSBhIGxvY2FsaXplZCB2ZXJzaW9uIG9mIHRoaXMgd29yZC4gTGV0J3MganVzdCBndWVzcyFcclxuICAgICAgICAgICAgdmFyIHdvcmRzID0gbmFtZS5zcGxpdChcIi1cIik7XHJcbiAgICAgICAgICAgIHZhciBmaW5hbFN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHdvcmQgaW4gd29yZHMpIHtcclxuICAgICAgICAgICAgICAgIHdvcmQgPSB3b3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgd29yZC5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgICAgICBmaW5hbFN0cmluZyArPSB3b3JkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmaW5hbFN0cmluZztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgbGFuZ3VhZ2UoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGFuZ3VhZ2U7XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9